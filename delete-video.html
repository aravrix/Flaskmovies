<h2>Delete Video</h2>
<form id="deleteVideoForm">
    <label for="videoId">Video ID:</label>
    <input type="text" id="videoId" required>

    <label for="username">Username:</label>
    <input type="text" id="username" required>

    <label for="password">Password:</label>
    <input type="password" id="password" required>

    <button type="submit">Delete Video</button>
</form>
<div id="deleteResponseMessage"></div>

<script>
    const deleteForm = document.getElementById('deleteVideoForm');
    const deleteResponseMessage = document.getElementById('deleteResponseMessage');

    deleteForm.addEventListener('submit', async function(event) {
        event.preventDefault();

        const videoId = document.getElementById('videoId').value;
        const username = document.getElementById('username').value;
        const password = document.getElementById('password').value;

        const headers = new Headers();
        headers.append('Authorization', 'Basic ' + btoa(username + ':' + password));

        try {
            const response = await fetch('https://flaskmovies.arnavvashnavi.workers.dev/delete-video', {
                method: 'DELETE',
                headers: headers,
                body: JSON.stringify({ videoId })
            });

            const result = await response.text();

            if (response.ok) {
                deleteResponseMessage.textContent = 'Video deleted successfully!';
                deleteResponseMessage.classList.remove('error');
            } else {
                deleteResponseMessage.textContent = 'Error: ' + result;
                deleteResponseMessage.classList.add('error');
            }
        } catch (error) {
            deleteResponseMessage.textContent = 'An error occurred: ' + error.message;
            deleteResponseMessage.classList.add('error');
        }

        deleteForm.reset();
    });
</script>
